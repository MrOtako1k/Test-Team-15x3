<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TEST TEAM - لوحة تحكم الأدمن المتطورة</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --accent-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --success-gradient: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            --warning-gradient: linear-gradient(135deg, #ffc107 0%, #ff8f00 100%);
            --danger-gradient: linear-gradient(135deg, #f44336 0%, #d32f2f 100%);
            --dark-bg: #0a0a0f;
            --card-bg: rgba(15, 15, 25, 0.8);
            --glass-bg: rgba(255, 255, 255, 0.05);
            --border-color: rgba(255, 255, 255, 0.1);
            --text-primary: #ffffff;
            --text-secondary: #a0a0a0;
            --shadow-primary: 0 20px 60px rgba(102, 126, 234, 0.15);
            --shadow-secondary: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            direction: rtl;
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* خلفية متحركة متطورة */
        .bg-gradient {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(102, 126, 234, 0.12) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(240, 147, 251, 0.12) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(79, 172, 254, 0.08) 0%, transparent 50%),
                linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 50%, #16213e 100%);
            z-index: -2;
            animation: gradientShift 30s ease-in-out infinite;
        }

        @keyframes gradientShift {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: linear-gradient(45deg, #667eea, #f093fb);
            border-radius: 50%;
            animation: float 15s infinite linear;
            opacity: 0.6;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.5);
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg) scale(0);
                opacity: 0;
            }
            10% {
                opacity: 0.6;
                transform: scale(1);
            }
            90% {
                opacity: 0.6;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg) scale(0);
                opacity: 0;
            }
        }

        .grid-pattern {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(255, 255, 255, 0.02) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.02) 1px, transparent 1px);
            background-size: 60px 60px;
            z-index: -1;
            animation: gridMove 50s linear infinite;
        }

        @keyframes gridMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(60px, 60px); }
        }

        /* Header */
        .header {
            background: var(--card-bg);
            backdrop-filter: blur(30px);
            border-bottom: 1px solid var(--border-color);
            padding: 25px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow-secondary);
        }

        .header-content {
            max-width: 1600px;
            margin: 0 auto;
            padding: 0 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 30px;
        }

        .logo {
            font-size: 2.5rem;
            font-weight: 900;
            background: linear-gradient(135deg, #667eea, #764ba2, #f093fb);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -2px;
            animation: gradientAnimation 8s ease-in-out infinite;
        }

        @keyframes gradientAnimation {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .admin-badge {
            background: var(--primary-gradient);
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 700;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
        }

        .admin-badge::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 25px;
        }

        .user-avatar {
            width: 55px;
            height: 55px;
            background: var(--primary-gradient);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
            transition: all 0.3s ease;
        }

        .user-avatar:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 35px rgba(102, 126, 234, 0.4);
        }

        .logout-btn {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border-color);
            color: white;
            padding: 15px 30px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            font-weight: 600;
        }

        .logout-btn:hover {
            border-color: rgba(102, 126, 234, 0.5);
            background: rgba(102, 126, 234, 0.1);
            transform: translateY(-2px);
        }

        /* Main Content */
        .main-content {
            max-width: 1600px;
            margin: 0 auto;
            padding: 50px 40px;
        }

        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 35px;
            margin-bottom: 60px;
        }

        .stat-card {
            background: var(--card-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border-color);
            border-radius: 25px;
            padding: 40px;
            text-align: center;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, transparent, rgba(102, 126, 234, 0.1), transparent);
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .stat-card:hover {
            transform: translateY(-10px) scale(1.02);
            border-color: rgba(102, 126, 234, 0.5);
            box-shadow: var(--shadow-primary);
        }

        .stat-card:hover::before {
            opacity: 1;
        }

        .stat-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 30px;
            background: var(--primary-gradient);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.2rem;
            position: relative;
            z-index: 1;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
            transition: all 0.3s ease;
        }

        .stat-card:hover .stat-icon {
            transform: scale(1.1) rotate(5deg);
        }

        .stat-number {
            font-size: 3.5rem;
            font-weight: 900;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
            position: relative;
            z-index: 1;
            transition: all 0.3s ease;
        }

        .stat-card:hover .stat-number {
            transform: scale(1.05);
        }

        .stat-label {
            font-size: 1.2rem;
            color: var(--text-secondary);
            font-weight: 600;
            position: relative;
            z-index: 1;
        }

        /* Submissions Section */
        .submissions-section {
            background: var(--card-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border-color);
            border-radius: 30px;
            padding: 50px;
            margin-bottom: 50px;
            position: relative;
            overflow: hidden;
        }

        .submissions-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, transparent, rgba(102, 126, 234, 0.03), transparent);
            pointer-events: none;
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 40px;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 25px;
            position: relative;
            z-index: 1;
        }

        .section-icon {
            width: 60px;
            height: 60px;
            background: var(--primary-gradient);
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }

        /* Filters */
        .filters-container {
            display: flex;
            gap: 25px;
            margin-bottom: 40px;
            flex-wrap: wrap;
            position: relative;
            z-index: 1;
        }

        .filter-btn {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border-color);
            color: white;
            padding: 15px 30px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 1rem;
            font-weight: 600;
            position: relative;
            overflow: hidden;
        }

        .filter-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .filter-btn:hover::before {
            left: 100%;
        }

        .filter-btn:hover,
        .filter-btn.active {
            background: var(--primary-gradient);
            border-color: transparent;
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        /* Submissions Grid */
        .submissions-grid {
            display: grid;
            gap: 30px;
            position: relative;
            z-index: 1;
        }

        .submission-card {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(15px);
            border: 1px solid var(--border-color);
            border-radius: 25px;
            padding: 35px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .submission-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, transparent, rgba(102, 126, 234, 0.05), transparent);
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .submission-card:hover {
            transform: translateY(-5px);
            border-color: rgba(102, 126, 234, 0.5);
            box-shadow: 0 20px 50px rgba(102, 126, 234, 0.15);
        }

        .submission-card:hover::before {
            opacity: 1;
        }

        .submission-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 25px;
            border-bottom: 1px solid var(--border-color);
            position: relative;
            z-index: 1;
        }

        .submission-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .submission-avatar {
            width: 60px;
            height: 60px;
            background: var(--primary-gradient);
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .submission-details h3 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .submission-meta {
            color: var(--text-secondary);
            font-size: 1rem;
            font-weight: 500;
        }

        .status-badge {
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 700;
            text-align: center;
            backdrop-filter: blur(10px);
            border: 1px solid;
        }

        .status-pending {
            background: rgba(255, 193, 7, 0.15);
            color: #ffc107;
            border-color: rgba(255, 193, 7, 0.3);
        }

        .status-approved {
            background: rgba(76, 175, 80, 0.15);
            color: #4caf50;
            border-color: rgba(76, 175, 80, 0.3);
        }

        .status-rejected {
            background: rgba(244, 67, 54, 0.15);
            color: #f44336;
            border-color: rgba(244, 67, 54, 0.3);
        }

        /* Submission Content */
        .submission-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
            position: relative;
            z-index: 1;
        }

        .answer-group {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border-radius: 18px;
            padding: 25px;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .answer-group:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateY(-2px);
        }

        .question-text {
            font-size: 1rem;
            color: var(--text-secondary);
            margin-bottom: 10px;
            font-weight: 600;
        }

        .answer-text {
            font-size: 1.1rem;
            color: var(--text-primary);
            font-weight: 500;
            line-height: 1.5;
        }

        /* Actions */
        .submission-actions {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
            padding-top: 25px;
            border-top: 1px solid var(--border-color);
            position: relative;
            z-index: 1;
        }

        .action-btn {
            background: var(--primary-gradient);
            border: none;
            color: white;
            padding: 12px 25px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .action-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .action-btn:hover::before {
            left: 100%;
        }

        .action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        .action-btn.approve {
            background: var(--success-gradient);
        }

        .action-btn.approve:hover {
            box-shadow: 0 10px 30px rgba(76, 175, 80, 0.4);
        }

        .action-btn.reject {
            background: var(--danger-gradient);
        }

        .action-btn.reject:hover {
            box-shadow: 0 10px 30px rgba(244, 67, 54, 0.4);
        }

        .action-btn.view {
            background: var(--accent-gradient);
        }

        .action-btn.view:hover {
            box-shadow: 0 10px 30px rgba(79, 172, 254, 0.4);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(15px);
            z-index: 1000;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--card-bg);
            backdrop-filter: blur(30px);
            border: 1px solid var(--border-color);
            border-radius: 30px;
            padding: 50px;
            max-width: 900px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: var(--shadow-primary);
            animation: slideUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translate(-50%, -40%);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%);
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 35px;
            padding-bottom: 25px;
            border-bottom: 1px solid var(--border-color);
        }

        .modal-title {
            font-size: 2rem;
            font-weight: 800;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .close-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 2.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .close-btn:hover {
            color: var(--text-primary);
            background: var(--glass-bg);
            transform: scale(1.1);
        }

        .empty-state {
            text-align: center;
            padding: 80px 30px;
            color: var(--text-secondary);
        }

        .empty-icon {
            font-size: 5rem;
            margin-bottom: 25px;
            opacity: 0.5;
        }

        .empty-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .empty-message {
            font-size: 1.2rem;
            line-height: 1.7;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                padding: 0 25px;
                flex-direction: column;
                gap: 20px;
            }

            .main-content {
                padding: 40px 25px;
            }

            .stats-grid {
                grid-template-columns: 1fr;
                gap: 25px;
            }

            .submissions-section {
                padding: 35px 25px;
            }

            .submission-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 20px;
            }

            .submission-content {
                grid-template-columns: 1fr;
            }

            .submission-actions {
                justify-content: center;
                flex-wrap: wrap;
            }

            .filters-container {
                justify-content: center;
            }

            .modal-content {
                padding: 40px 30px;
                width: 95%;
            }

            .section-title {
                font-size: 2rem;
            }

            .logo {
                font-size: 2rem;
            }
        }

        @media (max-width: 480px) {
            .main-content {
                padding: 30px 20px;
            }

            .submissions-section {
                padding: 30px 20px;
            }

            .stat-card {
                padding: 30px 25px;
            }

            .submission-card {
                padding: 25px 20px;
            }

            .modal-content {
                padding: 30px 20px;
            }

            .section-title {
                font-size: 1.6rem;
                gap: 15px;
            }

            .section-icon {
                width: 50px;
                height: 50px;
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="bg-gradient"></div>
    <div class="grid-pattern"></div>
    <div class="particles" id="particles"></div>

    <!-- Header -->
    <div class="header">
        <div class="header-content">
            <div class="logo-section">
                <div class="logo">TEST TEAM</div>
                <div class="admin-badge">لوحة تحكم الأدمن المتطورة</div>
            </div>
            <div class="user-info">
                <div class="user-avatar">👑</div>
                <span id="adminName">مرحباً، أدمن</span>
                <button class="logout-btn" onclick="logout()">تسجيل خروج</button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Stats Cards -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">📋</div>
                <div class="stat-number" id="totalSubmissions">0</div>
                <div class="stat-label">إجمالي الطلبات</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">⏳</div>
                <div class="stat-number" id="pendingSubmissions">0</div>
                <div class="stat-label">قيد المراجعة</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">✅</div>
                <div class="stat-number" id="approvedSubmissions">0</div>
                <div class="stat-label">تم القبول</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">❌</div>
                <div class="stat-number" id="rejectedSubmissions">0</div>
                <div class="stat-label">تم الرفض</div>
            </div>
        </div>

        <!-- Submissions Section -->
        <div class="submissions-section">
            <h2 class="section-title">
                <div class="section-icon">📊</div>
                طلبات الانضمام
            </h2>
            
            <!-- Filters -->
            <div class="filters-container">
                <button class="filter-btn active" onclick="filterSubmissions('all')">الكل</button>
                <button class="filter-btn" onclick="filterSubmissions('pending')">قيد المراجعة</button>
                <button class="filter-btn" onclick="filterSubmissions('approved')">مقبول</button>
                <button class="filter-btn" onclick="filterSubmissions('rejected')">مرفوض</button>
            </div>
            
            <!-- Submissions Grid -->
            <div class="submissions-grid" id="submissionsGrid">
                <!-- الطلبات ستتم إضافتها هنا -->
            </div>
        </div>
    </div>

    <!-- Modal لعرض التفاصيل -->
    <div class="modal" id="detailsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">تفاصيل الطلب</h3>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <div id="modalBody">
                <!-- محتوى المودال -->
            </div>
        </div>
    </div>

    <script>
        const questions = [
            "ACHENO SMIYTEK؟",
            "CHE7AL F3EMREK",
            "WACHE KENTI DA5EL M3A CHI TEAM O5ERA؟",
            "ACHEMEN JIHAZ 3ENDEK",
            "ACHENO KAT3ERF DIR",
            "ACHE NAHIYA TEAM LI KENTI DA5OL M3AHA",
            "WACHE FAYT LIK DEVLOPETI CHI L3AYBA",
            "ACHE NAHOWA MASAR DIRASI DYALK",
            "WACHE KAT3ETA9ED ILA D5OLTI AL HAD TEAM WACHE HATSTAMR FIHA",
            "ACHE NAHIYA RISALA DYALK LI BITI TWOJHEHA AL MASEOLIN",
            "WACHE HATB9A DAYMAN DAYR TAG 15x3 LILABADE",
            "3TINA NMRA DYALK BACHE ANTWASLO M3AKE"
        ];

        let currentFilter = 'all';
        let submissions = [];

        // إنشاء الجسيمات المتحركة المتطورة
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 50;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 15 + 's';
                particle.style.animationDuration = (Math.random() * 10 + 10) + 's';
                
                // تنويع أحجام الجسيمات
                const size = Math.random() * 5 + 3;
                particle.style.width = size + 'px';
                particle.style.height = size + 'px';
                
                particlesContainer.appendChild(particle);
            }
        }

        // تحميل الطلبات من localStorage
        function loadSubmissions() {
            submissions = JSON.parse(localStorage.getItem('adminSubmissions') || '[]');
            renderSubmissions();
            updateStats();
        }

        // عرض الطلبات
        function renderSubmissions(filter = 'all') {
            const grid = document.getElementById('submissionsGrid');
            const filteredSubmissions = filter === 'all' ? submissions : submissions.filter(s => s.status === filter);
            
            grid.innerHTML = '';
            
            if (filteredSubmissions.length === 0) {
                grid.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">📭</div>
                        <div class="empty-title">لا توجد طلبات</div>
                        <div class="empty-message">
                            ${filter === 'all' ? 'لم يتم استلام أي طلبات بعد' : `لا توجد طلبات ${getStatusText(filter)}`}
                        </div>
                    </div>
                `;
                return;
            }
            
            filteredSubmissions.forEach(submission => {
                const card = document.createElement('div');
                card.className = 'submission-card';
                card.innerHTML = `
                    <div class="submission-header">
                        <div class="submission-info">
                            <div class="submission-avatar">
                                ${submission.name.charAt(0)}
                            </div>
                            <div class="submission-details">
                                <h3>${submission.name}</h3>
                                <div class="submission-meta">
                                    ${submission.age} سنة • ${submission.device} • ${submission.date}
                                </div>
                            </div>
                        </div>
                        <div class="status-badge status-${submission.status}">
                            ${getStatusText(submission.status)}
                        </div>
                    </div>
                    
                    <div class="submission-content">
                        <div class="answer-group">
                            <div class="question-text">المهارات</div>
                            <div class="answer-text">${submission.skills}</div>
                        </div>
                        <div class="answer-group">
                            <div class="question-text">الدور المطلوب</div>
                            <div class="answer-text">${submission.teamRole}</div>
                        </div>
                        <div class="answer-group">
                            <div class="question-text">مجال الدراسة</div>
                            <div class="answer-text">${submission.studyField}</div>
                        </div>
                        <div class="answer-group">
                            <div class="question-text">الرسالة</div>
                            <div class="answer-text">${submission.message}</div>
                        </div>
                    </div>
                    
                    <div class="submission-actions">
                        <button class="action-btn view" onclick="viewSubmission(${submission.id})">
                            عرض التفاصيل
                        </button>
                        ${submission.status === 'pending' ? `
                            <button class="action-btn approve" onclick="approveSubmission(${submission.id})">
                                قبول
                            </button>
                            <button class="action-btn reject" onclick="rejectSubmission(${submission.id})">
                                رفض
                            </button>
                        ` : ''}
                    </div>
                `;
                
                grid.appendChild(card);
            });
        }

        // تصفية الطلبات
        function filterSubmissions(filter) {
            currentFilter = filter;
            
            // تحديث أزرار التصفية
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            renderSubmissions(filter);
        }

        // الحصول على نص الحالة
        function getStatusText(status) {
            switch(status) {
                case 'pending': return 'قيد المراجعة';
                case 'approved': return 'تم القبول';
                case 'rejected': return 'تم الرفض';
                default: return 'غير محدد';
            }
        }

        // عرض تفاصيل الطلب
        function viewSubmission(id) {
            const submission = submissions.find(s => s.id === id);
            if (!submission) return;
            
            const modalBody = document.getElementById('modalBody');
            modalBody.innerHTML = `
                <div style="margin-bottom: 35px;">
                    <div style="display: flex; align-items: center; gap: 25px; margin-bottom: 30px;">
                        <div class="submission-avatar" style="width: 70px; height: 70px; font-size: 1.8rem;">
                            ${submission.name.charAt(0)}
                        </div>
                        <div>
                            <h3 style="font-size: 1.8rem; margin-bottom: 8px;">${submission.name}</h3>
                            <div style="color: var(--text-secondary); font-size: 1.1rem;">رقم المرجع: ${submission.reference}</div>
                        </div>
                    </div>
                </div>
                
                <div style="display: grid; gap: 25px;">
                    ${questions.map((question, index) => {
                        const answers = [
                            submission.name,
                            submission.age,
                            submission.previousTeam,
                            submission.device,
                            submission.skills,
                            submission.teamRole,
                            submission.gamesDeveloped,
                            submission.studyField,
                            submission.commitment,
                            submission.message,
                            submission.keepTag,
                            submission.answers[12] || 'غير محدد'
                        ];
                        
                        return `
                            <div class="answer-group">
                                <div class="question-text">${question}</div>
                                <div class="answer-text">${answers[index]}</div>
                            </div>
                        `;
                    }).join('')}
                </div>
                
                ${submission.status === 'pending' ? `
                    <div style="display: flex; gap: 20px; margin-top: 40px; justify-content: center;">
                        <button class="action-btn approve" onclick="approveSubmission(${submission.id}); closeModal();">
                            قبول الطلب
                        </button>
                        <button class="action-btn reject" onclick="rejectSubmission(${submission.id}); closeModal();">
                            رفض الطلب
                        </button>
                    </div>
                ` : ''}
            `;
            
            document.getElementById('detailsModal').style.display = 'block';
        }

        // إغلاق المودال
        function closeModal() {
            document.getElementById('detailsModal').style.display = 'none';
        }

        // قبول الطلب
        function approveSubmission(id) {
            if (confirm('هل أنت متأكد من قبول هذا الطلب؟')) {
                const submissionIndex = submissions.findIndex(s => s.id === id);
                if (submissionIndex !== -1) {
                    submissions[submissionIndex].status = 'approved';
                    localStorage.setItem('adminSubmissions', JSON.stringify(submissions));
                    renderSubmissions(currentFilter);
                    updateStats();
                    alert('تم قبول الطلب بنجاح!');
                }
            }
        }

        // رفض الطلب
        function rejectSubmission(id) {
            if (confirm('هل أنت متأكد من رفض هذا الطلب؟')) {
                const submissionIndex = submissions.findIndex(s => s.id === id);
                if (submissionIndex !== -1) {
                    submissions[submissionIndex].status = 'rejected';
                    localStorage.setItem('adminSubmissions', JSON.stringify(submissions));
                    renderSubmissions(currentFilter);
                    updateStats();
                    alert('تم رفض الطلب.');
                }
            }
        }

        // تحديث الإحصائيات
        function updateStats() {
            const total = submissions.length;
            const pending = submissions.filter(s => s.status === 'pending').length;
            const approved = submissions.filter(s => s.status === 'approved').length;
            const rejected = submissions.filter(s => s.status === 'rejected').length;

            document.getElementById('totalSubmissions').textContent = total;
            document.getElementById('pendingSubmissions').textContent = pending;
            document.getElementById('approvedSubmissions').textContent = approved;
            document.getElementById('rejectedSubmissions').textContent = rejected;
        }

        // تسجيل الخروج
        function logout() {
            if (confirm('هل أنت متأكد من تسجيل الخروج؟')) {
                document.body.style.transition = 'opacity 0.5s ease';
                document.body.style.opacity = '0';
                
                setTimeout(() => {
                    window.location.href = 'index.html';
                }, 500);
            }
        }

        // تحديد اسم الأدمن
        function setAdminName() {
            const adminName = localStorage.getItem('adminName') || 'أدمن';
            document.getElementById('adminName').textContent = `مرحباً، ${adminName}`;
        }

        // إغلاق المودال عند الضغط خارجه
        window.onclick = function(event) {
            const modal = document.getElementById('detailsModal');
            if (event.target === modal) {
                closeModal();
            }
        }

        // تحديث الطلبات كل 5 ثوانٍ
        function autoRefresh() {
            loadSubmissions();
        }

        // تحميل الصفحة
        document.addEventListener('DOMContentLoaded', function() {
            createParticles();
            setAdminName();
            loadSubmissions();
            
            // تحديث تلقائي كل 5 ثوانٍ
            setInterval(autoRefresh, 5000);
        });
    </script>
</body>
</html>
